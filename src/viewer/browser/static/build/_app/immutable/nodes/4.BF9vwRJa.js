import{d as Se,f as g,s as u,a as o,c as le}from"../chunks/GQZyshw8.js";import{M as Ae,a2 as at,c as rt,Q as e,R as t,T as r,U as k,O as Ie,N as ge,b as s,s as st,a3 as dt,$ as nt}from"../chunks/3zZajnNw.js";import{i as y}from"../chunks/BgbN6ji0.js";import{h as it}from"../chunks/Cs8Plhgk.js";import{s as vt,a as ue}from"../chunks/ZadwNvFg.js";import{o as ut}from"../chunks/Vf_yHKtD.js";import"../chunks/Byozvddc.js";import{s as oe,e as ot,a as lt}from"../chunks/R2Is90t-.js";import{s as gt,u as ct,c as xt,q as pt,b as yt}from"../chunks/B3uTJoMB.js";var ft=g('<div class="card p-6"><p class="text-gray-500 dark:text-gray-400 text-center">No commands in this queue.</p></div>'),_t=g('<span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-primary-100 text-primary-800 dark:bg-primary-900 dark:text-primary-200">Current</span>'),mt=g('<span class="text-xs text-primary-600 dark:text-primary-400"> </span>'),kt=g('<div class="flex items-center gap-1"><span class="text-gray-500 dark:text-gray-400">Cost:</span> <span class="font-medium text-gray-900 dark:text-gray-100"> </span></div>'),bt=g('<a class="text-primary-600 dark:text-primary-400 hover:underline">View Session</a>'),ht=g('<div><span class="text-gray-500 dark:text-gray-400 block">Started</span> <span class="text-gray-900 dark:text-gray-100"> </span></div>'),wt=g('<div><span class="text-gray-500 dark:text-gray-400 block">Completed</span> <span class="text-gray-900 dark:text-gray-100"> </span></div>'),Ct=g('<div><span class="text-gray-500 dark:text-gray-400 block">Session ID</span> <span class="text-gray-900 dark:text-gray-100 font-mono"> </span></div>'),qt=g('<div class="mt-3 p-3 bg-red-50 dark:bg-red-900/20 rounded"><p class="text-sm text-red-800 dark:text-red-200"><span class="font-medium">Error:</span> </p></div>'),Qt=g('<div class="border-t border-gray-200 dark:border-gray-700 pt-3"><div class="grid grid-cols-2 md:grid-cols-3 gap-3 text-xs"><!> <!> <!></div> <!></div>'),St=g('<div><div class="space-y-3"><div class="flex items-start justify-between gap-3"><div class="flex-1 min-w-0 space-y-2"><div class="flex items-center gap-2"><span class="text-sm font-medium text-gray-900 dark:text-gray-100"> </span> <span> </span> <!> <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300"> </span></div> <button class="text-left w-full"><p class="text-sm text-gray-700 dark:text-gray-300"> </p> <!></button></div> <div class="flex flex-col items-end gap-1 text-xs"><!> <!></div></div> <!></div></div>'),At=g('<div class="space-y-6"><div class="card p-6"><div class="space-y-4"><div class="flex items-start justify-between gap-4"><div class="flex-1 min-w-0"><h1 class="text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2"> </h1> <p class="text-sm text-gray-600 dark:text-gray-400"> </p></div> <span> </span></div> <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-sm"><div><span class="text-gray-500 dark:text-gray-400 block">Created</span> <span class="text-gray-900 dark:text-gray-100 font-medium"> </span></div> <div><span class="text-gray-500 dark:text-gray-400 block">Updated</span> <span class="text-gray-900 dark:text-gray-100 font-medium"> </span></div> <div><span class="text-gray-500 dark:text-gray-400 block">Commands</span> <span class="text-gray-900 dark:text-gray-100 font-medium"> </span></div> <div><span class="text-gray-500 dark:text-gray-400 block">Total Cost</span> <span class="text-gray-900 dark:text-gray-100 font-medium"> </span></div></div> <div class="space-y-1"><div class="flex items-center justify-between text-xs"><span class="text-gray-600 dark:text-gray-400">Overall Progress</span> <span class="text-gray-600 dark:text-gray-400"> </span></div> <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 overflow-hidden"><div class="bg-primary-600 dark:bg-primary-500 h-2 rounded-full transition-all"></div></div></div></div></div> <div class="space-y-3"><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100">Commands</h2> <!></div></div>');function It(W,l){Ae(l,!0);let b=at(rt(new Set));function U(a){switch(a){case"running":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"completed":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"failed":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"paused":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"stopped":return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200";case"pending":return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}}function X(a){switch(a){case"running":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"completed":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"failed":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"skipped":return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200";case"pending":return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}}function h(a){return new Date(a).toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function O(a){return a===void 0?"N/A":`$${a.toFixed(2)}`}function F(a){if(a.commands.length===0)return 0;const i=a.commands.filter(q=>q.status==="completed").length;return Math.round(i/a.commands.length*100)}function j(a){return`${a.commands.filter(q=>q.status==="completed").length}/${a.commands.length}`}function B(a){const i=new Set(s(b));i.has(a)?i.delete(a):i.add(a),st(b,i,!0)}function R(a){return s(b).has(a)}function V(a,i){return a.length<=i?a:a.substring(0,i)+"..."}function Y(a,i){return a.commands.findIndex(S=>S.id===i)+1}var L=At(),P=e(L),z=e(P),c=e(z),f=e(c),w=e(f),M=e(w,!0);t(w);var G=r(w,2),C=e(G,!0);t(G),t(f);var I=r(f,2),Z=e(I,!0);t(I),t(c);var N=r(c,2),Q=e(N),H=r(e(Q),2),Ee=e(H,!0);t(H),t(Q);var $=r(Q,2),ce=r(e($),2),De=e(ce,!0);t(ce),t($);var ee=r($,2),xe=r(e(ee),2),Ue=e(xe,!0);t(xe),t(ee);var pe=r(ee,2),ye=r(e(pe),2),je=e(ye,!0);t(ye),t(pe),t(N);var fe=r(N,2),te=e(fe),_e=r(e(te),2),Be=e(_e);t(_e),t(te);var me=r(te,2),Le=e(me);t(me),t(fe),t(z),t(P);var ke=r(P,2),Pe=r(e(ke),2);{var Me=a=>{var i=ft();o(a,i)},Ne=a=>{var i=le(),q=ge(i);ot(q,19,()=>l.queue.commands,S=>S.id,(S,d,J)=>{var E=St(),be=e(E),ae=e(be),re=e(ae),se=e(re),de=e(se),Te=e(de);t(de);var K=r(de,2),Oe=e(K,!0);t(K);var he=r(K,2);{var Fe=n=>{var v=_t();o(n,v)};y(he,n=>{l.queue.currentIndex===s(J)&&n(Fe)})}var we=r(he,2),Re=e(we,!0);t(we),t(se);var ne=r(se,2);ne.__click=()=>B(s(d).id);var ie=e(ne),Ve=e(ie,!0);t(ie);var ze=r(ie,2);{var Ge=n=>{var v=mt(),_=e(v,!0);t(v),k(D=>u(_,D),[()=>R(s(d).id)?"Show less":"Show more"]),o(n,v)};y(ze,n=>{s(d).prompt.length>150&&n(Ge)})}t(ne),t(re);var Ce=r(re,2),qe=e(Ce);{var He=n=>{var v=kt(),_=r(e(v),2),D=e(_,!0);t(_),t(v),k(ve=>u(D,ve),[()=>O(s(d).costUsd)]),o(n,v)};y(qe,n=>{s(d).costUsd!==void 0&&n(He)})}var Je=r(qe,2);{var Ke=n=>{var v=bt();v.__click=_=>_.stopPropagation(),k(()=>lt(v,"href",`/sessions/${s(d).sessionId??""}`)),o(n,v)};y(Je,n=>{s(d).sessionId!==void 0&&n(Ke)})}t(Ce),t(ae);var We=r(ae,2);{var Xe=n=>{var v=Qt(),_=e(v),D=e(_);{var ve=x=>{var p=ht(),m=r(e(p),2),A=e(m,!0);t(m),t(p),k(T=>u(A,T),[()=>h(s(d).startedAt)]),o(x,p)};y(D,x=>{s(d).startedAt!==void 0&&x(ve)})}var Qe=r(D,2);{var Ye=x=>{var p=wt(),m=r(e(p),2),A=e(m,!0);t(m),t(p),k(T=>u(A,T),[()=>h(s(d).completedAt)]),o(x,p)};y(Qe,x=>{s(d).completedAt!==void 0&&x(Ye)})}var Ze=r(Qe,2);{var $e=x=>{var p=Ct(),m=r(e(p),2),A=e(m);t(m),t(p),k(T=>u(A,`${T??""}...`),[()=>s(d).sessionId.substring(0,8)]),o(x,p)};y(Ze,x=>{s(d).sessionId!==void 0&&x($e)})}t(_);var et=r(_,2);{var tt=x=>{var p=qt(),m=e(p),A=r(e(m));t(m),t(p),k(()=>u(A,` ${s(d).error??""}`)),o(x,p)};y(et,x=>{s(d).error!==void 0&&x(tt)})}t(v),o(n,v)};y(We,n=>{(s(d).status==="completed"||s(d).status==="failed")&&n(Xe)})}t(be),t(E),k((n,v,_)=>{oe(E,1,`card p-4 ${l.queue.currentIndex===s(J)?"border-primary-500 border-2":""}`),u(Te,`Command #${n??""}`),oe(K,1,`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${v??""}`),u(Oe,s(d).status),u(Re,s(d).sessionMode),u(Ve,_)},[()=>Y(l.queue,s(d).id),()=>X(s(d).status),()=>R(s(d).id)?s(d).prompt:V(s(d).prompt,150)]),o(S,E)}),o(a,i)};y(Pe,a=>{l.queue.commands.length===0?a(Me):a(Ne,!1)})}t(ke),t(L),k((a,i,q,S,d,J,E)=>{u(M,l.queue.name),u(C,l.queue.projectPath),oe(I,1,`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${a??""}`),u(Z,l.queue.status),u(Ee,i),u(De,q),u(Ue,S),u(je,d),u(Be,`${J??""}%`),gt(Le,`width: ${E??""}%`)},[()=>U(l.queue.status),()=>h(l.queue.createdAt),()=>h(l.queue.updatedAt),()=>j(l.queue),()=>O(l.queue.totalCostUsd),()=>F(l.queue),()=>F(l.queue)]),o(W,L),Ie()}Se(["click"]);var Et=g('<div class="card p-4 bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800"><p class="text-red-800 dark:text-red-200"> </p></div>'),Dt=g('<div class="card p-6"><p class="text-gray-500 dark:text-gray-400 text-center">Loading queue...</p></div>'),Ut=g('<div class="card p-6"><p class="text-gray-500 dark:text-gray-400 text-center">Queue not found.</p></div>'),jt=g('<div class="space-y-6"><div><button class="btn btn-secondary text-sm inline-flex items-center gap-2"><span>‚Üê</span> Back to Queues</button></div> <!> <!></div>');function Vt(W,l){Ae(l,!0);const b=()=>ue(xt,"$currentQueue",h),U=()=>ue(pt,"$queuesError",h),X=()=>ue(yt,"$isLoadingQueue",h),[h,O]=vt();ut(()=>{ct()});function F(){window.location.href="/queues"}var j=jt();it("70uf45",c=>{dt(()=>{nt.title=`
    ${b()!==null?`Queue: ${b().name}`:"Queue"} - Claude Code
    Agent
  `})});var B=e(j),R=e(B);R.__click=F,t(B);var V=r(B,2);{var Y=c=>{var f=Et(),w=e(f),M=e(w,!0);t(w),t(f),k(()=>u(M,U())),o(c,f)};y(V,c=>{U()!==null&&c(Y)})}var L=r(V,2);{var P=c=>{var f=Dt();o(c,f)},z=c=>{var f=le(),w=ge(f);{var M=C=>{It(C,{get queue(){return b()}})},G=C=>{var I=le(),Z=ge(I);{var N=Q=>{var H=Ut();o(Q,H)};y(Z,Q=>{U()===null&&Q(N)},!0)}o(C,I)};y(w,C=>{b()!==null?C(M):C(G,!1)},!0)}o(c,f)};y(L,c=>{X()?c(P):c(z,!1)})}t(j),o(W,j),Ie(),O()}Se(["click"]);export{Vt as component};
