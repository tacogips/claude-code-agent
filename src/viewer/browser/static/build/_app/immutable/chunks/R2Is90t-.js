import{B as k,C as re,J as D,r as A,E as ae,a8 as fe,b as B,a as ne,a9 as ie,aa as se,ab as V,I as O,K as H,F as te,ac as ue,ad as Y,q as le,ae as T,af as q,ag as oe,D as X,A as ce,ah as G,ai as F,aj as ve,ak as de,al as _e,am as pe,an as Q,ao as W,ap as U,G as he,aq as ge,ar as Ee,as as Z,at as $,au as Ae,av as Te,aw as Ne,ax as Ie,ay as Se,az as me,aA as Me}from"./3zZajnNw.js";import{a as we}from"./BgbN6ji0.js";function ze(e,r){return r}function Le(e,r,a){for(var o=[],t=r.length,s,i=r.length,v=0;v<t;v++){let g=r[v];W(g,()=>{if(s){if(s.pending.delete(g),s.done.add(g),s.pending.size===0){var d=e.outrogroups;y(F(s.done)),d.delete(s),d.size===0&&(e.outrogroups=null)}}else i-=1},!1)}if(i===0){var n=o.length===0&&a!==null;if(n){var c=a,u=c.parentNode;ge(u),u.append(c),e.items.clear()}y(r,!n)}else s={pending:new Set(r),done:new Set},(e.outrogroups??=new Set).add(s)}function y(e,r=!0){for(var a=0;a<e.length;a++)Ee(e[a],r)}var K;function Fe(e,r,a,o,t,s=null){var i=e,v=new Map,n=(r&Z)!==0;if(n){var c=e;i=A?D(ae(c)):c.appendChild(k())}A&&fe();var u=null,g=ne(()=>{var l=a();return ve(l)?l:l==null?[]:F(l)}),d,p=!0;function I(){f.fallback=u,Ce(f,d,i,r,o),u!==null&&(d.length===0?(u.f&T)===0?Q(u):(u.f^=T,b(u,null,i)):W(u,()=>{u=null}))}var M=re(()=>{d=B(g);var l=d.length;let w=!1;if(A){var L=ie(i)===se;L!==(l===0)&&(i=V(),D(i),O(!1),w=!0)}for(var E=new Set,S=le,C=oe(),h=0;h<l;h+=1){A&&H.nodeType===te&&H.data===ue&&(i=H,w=!0,O(!1));var m=d[h],R=o(m,h),_=p?null:v.get(R);_?(_.v&&Y(_.v,m),_.i&&Y(_.i,h),C&&S.skipped_effects.delete(_.e)):(_=Re(v,p?i:K??=k(),m,R,h,t,r,a),p||(_.e.f|=T),v.set(R,_)),E.add(R)}if(l===0&&s&&!u&&(p?u=q(()=>s(i)):(u=q(()=>s(K??=k())),u.f|=T)),A&&l>0&&D(V()),!p)if(C){for(const[j,ee]of v)E.has(j)||S.skipped_effects.add(ee.e);S.oncommit(I),S.ondiscard(()=>{})}else I();w&&O(!0),B(g)}),f={effect:M,items:v,outrogroups:null,fallback:u};p=!1,A&&(i=H)}function Ce(e,r,a,o,t){var s=(o&Ae)!==0,i=r.length,v=e.items,n=e.effect.first,c,u=null,g,d=[],p=[],I,M,f,l;if(s)for(l=0;l<i;l+=1)I=r[l],M=t(I,l),f=v.get(M).e,(f.f&T)===0&&(f.nodes?.a?.measure(),(g??=new Set).add(f));for(l=0;l<i;l+=1){if(I=r[l],M=t(I,l),f=v.get(M).e,e.outrogroups!==null)for(const _ of e.outrogroups)_.pending.delete(f),_.done.delete(f);if((f.f&T)!==0)if(f.f^=T,f===n)b(f,null,a);else{var w=u?u.next:n;f===e.effect.last&&(e.effect.last=f.prev),f.prev&&(f.prev.next=f.next),f.next&&(f.next.prev=f.prev),N(e,u,f),N(e,f,w),b(f,w,a),u=f,d=[],p=[],n=u.next;continue}if((f.f&U)!==0&&(Q(f),s&&(f.nodes?.a?.unfix(),(g??=new Set).delete(f))),f!==n){if(c!==void 0&&c.has(f)){if(d.length<p.length){var L=p[0],E;u=L.prev;var S=d[0],C=d[d.length-1];for(E=0;E<d.length;E+=1)b(d[E],L,a);for(E=0;E<p.length;E+=1)c.delete(p[E]);N(e,S.prev,C.next),N(e,u,S),N(e,C,L),n=L,u=C,l-=1,d=[],p=[]}else c.delete(f),b(f,n,a),N(e,f.prev,f.next),N(e,f,u===null?e.effect.first:u.next),N(e,u,f),u=f;continue}for(d=[],p=[];n!==null&&n!==f;)(c??=new Set).add(n),p.push(n),n=n.next;if(n===null)continue}(f.f&T)===0&&d.push(f),u=f,n=f.next}if(e.outrogroups!==null){for(const _ of e.outrogroups)_.pending.size===0&&(y(F(_.done)),e.outrogroups?.delete(_));e.outrogroups.size===0&&(e.outrogroups=null)}if(n!==null||c!==void 0){var h=[];if(c!==void 0)for(f of c)(f.f&U)===0&&h.push(f);for(;n!==null;)(n.f&U)===0&&n!==e.fallback&&h.push(n),n=n.next;var m=h.length;if(m>0){var R=(o&Z)!==0&&i===0?a:null;if(s){for(l=0;l<m;l+=1)h[l].nodes?.a?.measure();for(l=0;l<m;l+=1)h[l].nodes?.a?.fix()}Le(e,h,R)}}s&&$(()=>{if(g!==void 0)for(f of g)f.nodes?.a?.apply()})}function Re(e,r,a,o,t,s,i,v){var n=(i&de)!==0?(i&_e)===0?ce(a,!1,!1):G(a):null,c=(i&pe)!==0?G(t):null;return X&&n&&(n.trace=()=>{v()[c?.v??t]}),{v:n,i:c,e:q(()=>(s(r,n??a,c??t,v),()=>{e.delete(o)}))}}function b(e,r,a){if(e.nodes)for(var o=e.nodes.start,t=e.nodes.end,s=r&&(r.f&T)===0?r.nodes.start:a;o!==null;){var i=he(o);if(s.before(o),o===t)return;o=i}}function N(e,r,a){r===null?e.effect.first=a:r.next=a,a===null?e.effect.last=r:a.prev=r}function Be(e,r,a,o,t,s){var i=e.__className;if(A||i!==a||i===void 0){var v=we(a,o,s);(!A||v!==e.getAttribute("class"))&&(v==null?e.removeAttribute("class"):r?e.className=v:e.setAttribute("class",v)),e.__className=a}else if(s&&t!==s)for(var n in s){var c=!!s[n];(t==null||c!==!!t[n])&&e.classList.toggle(n,c)}return s}const be=Symbol("is custom element"),He=Symbol("is html");function Ve(e){if(A){var r=!1,a=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var o=e.value;x(e,"value",null),e.value=o}if(e.hasAttribute("checked")){var t=e.checked;x(e,"checked",null),e.checked=t}}};e.__on_r=a,$(a),Me()}}function x(e,r,a,o){var t=ke(e);if(A&&(t[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")){Oe(e,r,a??"");return}t[r]!==(t[r]=a)&&(r==="loading"&&(e[Se]=a),a==null?e.removeAttribute(r):typeof a!="string"&&De(e).includes(r)?e[r]=a:e.setAttribute(r,a))}function ke(e){return e.__attributes??={[be]:e.nodeName.includes("-"),[He]:e.namespaceURI===Te}}var J=new Map;function De(e){var r=e.getAttribute("is")||e.nodeName,a=J.get(r);if(a)return a;J.set(r,a=[]);for(var o,t=e,s=Element.prototype;s!==t;){o=me(t);for(var i in o)o[i].set&&a.push(i);t=Ie(t)}return a}function Oe(e,r,a){X&&(r==="srcset"&&Ue(e,a)||z(e.getAttribute(r)??"",a)||Ne(r,e.outerHTML.replace(e.innerHTML,e.innerHTML&&"..."),String(a)))}function z(e,r){return e===r?!0:new URL(e,document.baseURI).href===new URL(r,document.baseURI).href}function P(e){return e.split(",").map(r=>r.trim().split(" ").filter(Boolean))}function Ue(e,r){var a=P(e.srcset),o=P(r);return o.length===a.length&&o.every(([t,s],i)=>s===a[i][1]&&(z(a[i][0],t)||z(t,a[i][0])))}export{x as a,Fe as e,ze as i,Ve as r,Be as s};
